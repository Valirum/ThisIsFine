<div id="taskModal" class="modal">
  <div class="modal-content">
    <span class="close" data-modal="taskModal">&times;</span>
    <h3>Редактировать задачу</h3>
    <form id="editTaskForm">
      <input type="hidden" id="taskId">
      <label>Заголовок:<br><input type="text" id="taskTitle" required></label><br><br>
      <label>Описание:<br><textarea id="taskNote" rows="3"></textarea></label><br><br>
      <label>Срок выполнения<br>
        <div id="editTaskDatetimePicker"></div>
      </label><br><br>

      <!-- Планируемое начало -->
      <label>
        <input type="checkbox" id="editPlannedAtEnabled"> Планируемое начало
      </label>
      <div id="editPlannedAtDatetimePicker" style="display: none;"></div>
      <div id="editPlannedAtPresets" style="display: flex; margin-top: 0.5rem; gap: 0.3rem; flex-wrap: wrap;"></div>
      <br><br>

      <!-- Крайний срок -->
      <label>
        <input type="checkbox" id="editGraceEndEnabled"> Крайний срок
      </label>
      <div id="editGraceEndDatetimePicker" style="display: none;"></div>
      <br><br>

      <!-- Продолжительность -->
      <label>Продолжительность (сек):<br>
        <input type="number" id="taskDuration" min="0" value="0" style="width: 80px;">
      </label>
      <div id="editDurationPresets" style="margin-top: 0.5rem; display: flex; gap: 0.3rem; flex-wrap: wrap;"></div>
      <br><br>

      <!-- Повторение -->
      <label>Повторение (сек, 0 = нет):<br>
        <input type="number" id="taskRecurrence" min="0" value="0">
      </label>
      <div id="editRecurrencePresets" style="margin-top: 0.5rem; display: flex; gap: 0.3rem; flex-wrap: wrap;"></div>
      <br><br>

      <!-- Зависимости -->
      <label>Зависимости:<br>
        <div id="editSelectedDependenciesContainer" style="margin-top:0.3rem;"></div>
        <button type="button" class="btn" id="openSearchForEditDeps">+ Выбрать задачи</button>
      </label>
      <input type="hidden" id="taskDependencies">
      <br><br>

      <!-- Теги -->
      <label>Теги (через запятую):<br>
        <input type="text" id="taskTags" placeholder="работа, ритуал">
      </label>
      <div id="editTagSuggestions"></div>
      <br><br>

      <!-- Приоритет -->
      <label>Приоритет:<br>
        <select id="taskPriority">
          <option value="routine">routine</option>
          <option value="high">high</option>
          <option value="critical">critical</option>
        </select>
      </label><br><br>

      <!-- Статус -->
      <label>Статус:<br>
        <select id="taskStatus">
          <option value="planned">Planned</option>
          <option value="inProgress">In Progress</option>
          <option value="done">Done</option>
          <option value="overdue">Overdue</option>
          <option value="failed">Failed</option>
        </select>
      </label><br><br>

      <button class="btn btn--primary" type="submit">Сохранить</button>
    </form>
  </div>
</div>

